<!doctype html>
<html>
<head>
  <title>JavaScript Patterns 2012 - Chris Oakman</title>
  <meta charset='utf-8'>
  <script src='http://html5slides.googlecode.com/svn/trunk/slides.js'></script>
  <style>
	/* remove the Google logo */
    article {
		background: #fff !important;
	}
	.string {
		color: #008A35;
	}
	.small2 {
		font-size: 18px !important;
	}
  </style> 
</head>

  <body style='display: none'>

    <section class='slides layout-regular template-default'>

      <article>
        <h1>JavaScript Patterns</h1>
        <p>Chris Oakman
          <br>
          August 2012
        </p>
      </article>
      
      <article>
       <h3>Overview</h3>
        <ul>
          <li>Constructor Pattern
          <li>Module Pattern
		  <li>Currying
          <li>Grid Systems (bonus pattern!)
		  <li>Q&amp;A
        </ul>
      </article>

	  <article>
		<h1>Constructor Pattern</h1>
		<p>Pattern 1</p>
	  </article>

	  <article>
		<h3>Constructor Pattern</h3>
		<ul>
			<li>Used to create new objects
			<li>Allows you to specify custom behavior for your objects
			<li>Always use with <code class="blue">new</code>
			<li>By convention should start with a capital letter
		</ul>
	  </article>

      <article class="">
        <h3>Constructor Pattern</h3>
        <section>
        <pre>
// for simple object creation, just use the object literal syntax
var obj1 = {
  name  : "Chris",
  hello : function() {
    return this.name;
  }
};

obj1.hello(); // "Chris"

// but what if we want multiple objects with the same
// built-in methods?
var person1 = new Person("Chris");
var person2 = new Person("Katherine");

person1.hello(); // "Chris"
person2.hello(); // "Katherine"
</pre>
        </section>
	  </article>
	  
      <article class="smaller">
        <h3>Constructor Pattern (cont)</h3>
        <section>
        <pre>
// constructor function
// NOTE: always start a constructor function with a capital letter
var Person = function(name) {
  // set a default for name
  this.name = name || "John Doe";
  
  // object method
  this.hello = function() {
    return this.name;
  };

  // NOTE: implicit "return this;" when we use the "new" keyword
};

// create some people
var person1 = new Person("Chris");
var person2 = new Person("Katherine");
var person3 = new Person();

person1.hello(); // "Chris"
person2.hello(); // "Katherine"
person3.hello(); // "John Doe"
</pre>
        </section>
	  </article>

      <article class="smaller">
        <h3>Constructor Pattern (cont)</h3>
        <section>
        <pre>
// constructor function
// NOTE: always start a constructor function with a capital letter
var Person = function(name) {
  // set a default for name
  this.name = name || "John Doe";

  // NOTE: implicit "return this;" when we use the "new" keyword
};

// add reusable methods to the Constructor's prototype
// to reduce memory footprint
Person.prototype.hello = function() {
  return this.name;
};

// create some people
var person1 = new Person("Chris");
var person2 = new Person("Katherine");
var person3 = new Person();

person1.hello(); // "Chris"
person2.hello(); // "Katherine"
person3.hello(); // "John Doe"
</pre>
        </section>
	  </article>
	  
      <article class="smaller">
        <h3>Constructor Pattern (cont)</h3>
        <section>
        <pre>
// constructor function
// NOTE: always start a constructor function with a capital letter
var Person = function(name) {
  var that = {};
  
  that.name = name || "John Doe";
  
  that.hello = function() {
    return that.name;
  };
  
  // you can return any object from a Constructor function
  // don't have to use "this"
  return that;
};

// create some people
var person1 = new Person("Chris");
var person2 = new Person("Katherine");
var person3 = new Person();

person1.hello(); // "Chris"
person2.hello(); // "Katherine"
person3.hello(); // "John Doe"
</pre>
        </section>
	  </article>
	  
      <article class="smaller">
        <h3>Constructor Pattern (cont)</h3>
        <section>
        <pre>
// constructor function
var Counter = function(num) {
  num = num || 0;
  this.up = function() {
    num++;
  };
  this.down = function() {
    num--;
  };
  this.value = function() {
    return num;
  }
};

// create some counters
var count1 = new Counter();
var count2 = new Counter(12);

count1.up();
count1.value(); // 1

count2.down();
count2.value(); // 11

// we do not have access to "num"
console.log( count1.num ); // "undefined"
</pre>
        </section>
	  </article>

	  <article>
		<h1>Module Pattern</h1>
		<p>Pattern 2</p>
	  </article>
	  
	  <article>
		<h3>Module Pattern</h3>
		<ul>
			<li>Provide structure for code organization
			<li>Self contained code units
			<li>Think "package"
		</ul>
	  </article>	  

      <article class="">
        <h3>Module Pattern - The Basics</h3>
        <section>
        <pre>
// put the module in a namespace
MYAPP = MYAPP || {};

// wrap module in immediate anonymous function
MYAPP.util = (function() {
  
  return {
    inArray : function(needle, haystack) {
      // ...
    },
    isArray : function(arr) {
      // ...
    }
  };

}()); // execute anonymous function
</pre>
        </section>
	  </article>
	  
      <article class="smaller">
        <h3>Module Pattern - Private / Public</h3>
        <section>
        <pre>
// put the module in a namespace
MYAPP = MYAPP || {};

// wrap module in immediate anonymous function
MYAPP.api = (function() {
  
  // "private" variables only available to our module
  var base_url = 'http://www.example.com/api';
  var api_key  = '27d823jfuehd2';
  
  var send_get = function(method, callback) {
    // ...
  };
  
  var send_post = function(method, args, callback) {
   // ...
  };
  
  // return these "public" methods
  return {
    get  : send_get,
    post : send_post
  };

}()); // execute anonymous function
</pre>
        </section>
	  </article>

      <article class="smaller">
        <h3>Module Pattern - Constructor</h3>
        <section>
        <pre>
// widgets.js

// put the module in a namespace
MYAPP = MYAPP || {};

// wrap module in immediate anonymous function
MYAPP.widgets = (function() {
  
  // optional one-time initialization code
  // ...
  
  var StatusBar = function(el, priority, text) {
    // ...
  };
  
  return {
    StatusBar : StatusBar
  };

}()); // execute anonymous function
</pre>

<pre>
// page.js
var status1 = new MYAPP.widgets.StatusBar("#status", "high", "Low Disk Space!");
var status2 = new MYAPP.widgets.StatusBar("#status", "low", "Someone updated Twitter.");
</pre>
        </section>
	  </article>

	  <article>
		<h1>Currying</h1>
		<p>Pattern 3</p>
	  </article>

      <article class="smaller">
        <h3>Currying - Example 1</h3>
        <section>
        <pre>
// numbers
var num1 = 96;
var num2 = 2.5;
var num3 = 1e3; // 1000

if (1 === 1.0) { // true
  console.log('every number is a 64-bit floating point');
}

if (1000 === num3) { // true
  console.log('one thousand');
}

// beware of floating point operations in JavaScript
if (0.1 + 0.2 === 0.3) { // false
  console.log('Pigs are flying.');
}

// convert to integers if needed
if (0.1 * 1000 + 0.2 * 1000 === 0.3 * 1000) { // true
  console.log('Integers are generally safe.');
}
</pre>
        </section>
	  </article>

	  <article>
		<h1>Grid Systems</h1>
		<p>Bonus Pattern!</p>
	  </article>
	  
	  <article>
		<h3>Currying</h3>
		<p>The simple types in JavaScript are:</p>
		<ul>
			<li>Numbers
			<li>Strings
			<li>Boolean
			<li>null
			<li>undefined
		</ul>
	  </article>
	  
      <article class="smaller">
        <h3>Currying - Example 1</h3>
        <section>
        <pre>
// numbers
var num1 = 96;
var num2 = 2.5;
var num3 = 1e3; // 1000

if (1 === 1.0) { // true
  console.log('every number is a 64-bit floating point');
}

if (1000 === num3) { // true
  console.log('one thousand');
}

// beware of floating point operations in JavaScript
if (0.1 + 0.2 === 0.3) { // false
  console.log('Pigs are flying.');
}

// convert to integers if needed
if (0.1 * 1000 + 0.2 * 1000 === 0.3 * 1000) { // true
  console.log('Integers are generally safe.');
}
</pre>
        </section>
	  </article>
	  
      <article>
        <h3>Currying - Example 2</h3>
        <section>
        <pre>
// strings
var str1 = 'Hello';  // single quotes
var str2 = "world!"; // double quotes

console.log(str1 + ' ' + str2); // "Hello world!"

// strings have a length property
console.log( str1.length ); // 5

// strings have built-in methods
console.log( str1.toUpperCase() ); // "HELLO"

console.log( str1.indexOf("e") ); // 1
console.log( str1.indexOf("z") ); // -1 (z not found)

console.log( str1.substr(3, 2) ); // "lo"

// NOTE: JavaScript does not have chars, only strings
</pre>
        </section>
      </article>		  
	  
	  <article>
		<h1>Constructor Pattern</h1>
		<p>Pattern 2</p>
	  </article>
	  
	  <article class="smaller">
		<h3>Constructor Pattern</h3>
		<ul>
			<li>Use to create objects
			<li>Easily create "public" and "private" methods
			<li>Sandbox execution scope
		</ul>
	  </article>
	  
	  <article>
		<h1>Module Pattern</h1>
		<p>Pattern 3</p>
	  </article>
	  
	  <article class="smaller">
		<h3>Module Pattern</h3>
		<ul>
			<li>Help to organize code
			<li>Easily create "public" and "private" methods
			<li>Sandbox execution scope
		</ul>
	  </article>
	  
      <article class="smaller">
        <h3>Further Reading</h3>
        <ul>
          <li><img src="img/good_parts.jpg" alt="JavaScript: The Good Parts" style="vertical-align: middle" /> <a href="http://www.amazon.com/gp/product/0596517742/ref=as_li_ss_tl?ie=UTF8&amp;tag=oakmaccom-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596517742" target="_blank">JavaScript: The Good Parts</a>
		  <li><img src="img/good_parts.jpg" alt="JavaScript: The Good Parts" style="vertical-align: middle" /> <a href="http://www.amazon.com/gp/product/0596517742/ref=as_li_ss_tl?ie=UTF8&amp;tag=oakmaccom-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596517742" target="_blank">JavaScript: The Good Parts</a> (read it twice)
		  <li><img src="img/js_patterns.jpg" alt="JavaScript Patterns" style="vertical-align: middle" /> <a href="http://www.amazon.com/gp/product/0596806752/ref=as_li_ss_tl?ie=UTF8&amp;tag=oakmaccom-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596806752" target="_blank">JavaScript Patterns</a>
		  <li><a href="http://www.html5rocks.com/en/tutorials/internals/howbrowserswork/" target="_blank">How Browsers Work</a>
		  <li><a href="http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml" target="_blank">Google JavaScript Style Guide</a>
		  <li><a href="http://developer.yahoo.com/performance/" target="_blank">Yahoo! Exceptional Performance Team</a>
		  <li><a href="http://www.youtube.com/watch?v=WxmcDoAxdoY" target="_blank">Paul Irish - Primitives of HTML5</a>
        </ul>
	  </article>
	  
      <article class="smaller">
        <h1>Thank you!</h1>
        <p>Chris Oakman
          <br />
          <a href="mailto:chris@oakmac.com">chris@oakmac.com</a>
		  <br />
		  <a href="https://github.com/oakmac/Professional-JavaScript">https://github.com/oakmac/Professional-JavaScript</a>
		  <br />
		  Available for consulting
        </p>
		<div style="position: absolute; bottom: 40px">P.S. Play poker in Houston?  email me :)</div>
      </article>

    </section>